@model IEnumerable<mvcproject.Models.客戶聯絡人>

@{
    ViewBag.Title = "Index";
}

<h2>@Html.ActionLink("客戶聯絡人管理", "Index")</h2>

<p>
    @Html.ActionLink("建立新客戶聯絡人", "Create")
</p>
    <form action="">
        <p>
            <input type="search" name="search" value="" />
            @Html.DropDownList("JobTitle", "-- 請選擇 --")
            <input type="submit" value="搜尋聯絡人" />
        </p>
    </form>
                      <table class="table">
                          <tr>
                              <th>
                                  @Html.DisplayNameFor(model => model.職稱)
                                  @Html.ActionLink("<<", "Index", new { sortItem = 0, order = "up"}) |
                                  @Html.ActionLink(">>", "Index", new { sortItem = 0, order = "down"})
                              </th>
                              <th>
                                  @Html.DisplayNameFor(model => model.姓名)
                                  @Html.ActionLink("<<", "Index", new { sortItem = 1, order = "up"}) |
                                  @Html.ActionLink(">>", "Index", new { sortItem = 1, order = "down"})
                              </th>
                              <th>
                                  @Html.DisplayNameFor(model => model.Email)
                                  @Html.ActionLink("<<", "Index", new { sortItem = 2, order = "up"}) |
                                  @Html.ActionLink(">>", "Index", new { sortItem = 2, order = "down"})
                              </th>
                              <th>
                                  @Html.DisplayNameFor(model => model.手機)
                                  @Html.ActionLink("<<", "Index", new { sortItem = 3, order = "up"}) |
                                  @Html.ActionLink(">>", "Index", new { sortItem = 3, order = "down"})
                              </th>
                              <th>
                                  @Html.DisplayNameFor(model => model.電話)
                                  @Html.ActionLink("<<", "Index", new { sortItem = 4, order = "up"}) |
                                  @Html.ActionLink(">>", "Index", new { sortItem = 4, order = "down"})
                              </th>
                              <th>
                                  @Html.DisplayNameFor(model => model.客戶資料.客戶名稱)
                                  @Html.ActionLink("<<", "Index", new { sortItem = 5, order = "up"}) |
                                  @Html.ActionLink(">>", "Index", new { sortItem = 5, order = "down"})
                              </th>
                              <th></th>
                          </tr>
                          @if (Model != null) {
                          foreach (var item in Model) {

                          <tr>
                              <td>
                                  @Html.DisplayFor(modelItem => item.職稱)
                              </td>
                              <td>
                                  @Html.ActionLink(item.姓名, "Details", new { id=item.Id })
                              </td>
                              <td>
                                  @Html.DisplayFor(modelItem => item.Email)
                              </td>
                              <td>
                                  @Html.DisplayFor(modelItem => item.手機)
                              </td>
                              <td>
                                  @Html.DisplayFor(modelItem => item.電話)
                              </td>
                              <td>
                                  @Html.DisplayFor(modelItem => item.客戶資料.客戶名稱)
                              </td>
                              <td>
                                  @Html.ActionLink("編輯聯絡人資訊", "Edit", new { id=item.Id }) |
                                  @Html.ActionLink("刪除聯絡人", "Delete", new { id=item.Id })
                              </td>
                          </tr>
                          }
                          } else {
                          <script>alert("@ViewBag.Message");</script>
                          }

                      </table>
